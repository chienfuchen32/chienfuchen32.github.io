<?xml version="1.0" encoding="utf-8"?><rss version="2.0" xml:lang="en-us" xmlns:atom="http://www.w3.org/2005/Atom"><channel><language>en-us</language><lastBuildDate>Sat, 26 Jul 2025 22:38:40 +0800</lastBuildDate><link>https://chienfuchen32.github.io/tags/continuous-integration/</link><atom:link href="https://chienfuchen32.github.io/tags/continuous-integration/rss.xml" hreflang="en-us" rel="self" type="application/rss+xml"/><atom:link href="https://chienfuchen32.github.io/tags/continuous-integration/" hreflang="en-us" rel="alternate" type="text/html"/><atom:link href="https://chienfuchen32.github.io/tags/continuous-integration/rss.xml" hreflang="en-us" rel="alternate" type="application/rss+xml"/><title>Continuous Integration · Tags · Jeff&rsquo;s note</title><item><description><![CDATA[<h1 id=iac-concept>IaC Concept</h1><ul><li>fast deployment for business requirement</li><li>infrastructure consistency</li><li>security compliance automation</li></ul><h2 id=azure-cloud-infra-architecture-overview>Azure cloud infra architecture overview</h2><img src=https://chienfuchen32.github.io/azure/microservices-architecture.svg width=800><p><a href=https://learn.microsoft.com/en-us/azure/architecture/reference-architectures/containers/aks-microservices/aks-microservices rel=external>https://learn.microsoft.com/en-us/azure/architecture/reference-architectures/containers/aks-microservices/aks-microservices</a></p><h2 id=proposed-gitops-flow>Proposed GitOps flow</h2><ul><li>change request</li><li>stakeholder notification, plan</li><li>IaC modularization for reusable purpose</li><li>version control, branch: <code>main</code>, <code>dev</code>, <code>new_net</code>, <code>new_db</code>, <code>stg</code>, <code>prd</code>, &mldr;</li><li>automating testing</li><li>continuous deployment</li><li>update process to related notificatition channel</li></ul><h3 id=hcl-code-example>HCL Code example</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=display:flex><span><span style=color:#00f>variable</span> <span style=color:#a31515>&#34;aks_node_pool&#34;</span> {
</span></span><span style=display:flex><span>  description = <span style=color:#a31515>&#34;&#34;</span>
</span></span><span style=display:flex><span>  type = <span style=color:#00f>map</span>(<span style=color:#00f>object</span>({
</span></span><span style=display:flex><span>    vm_size         = <span style=color:#00f>string</span>
</span></span><span style=display:flex><span>    node_count      = <span style=color:#00f>number</span>
</span></span><span style=display:flex><span>    zones           = <span style=color:#00f>list</span>(<span style=color:#00f>string</span>)
</span></span><span style=display:flex><span>    os_disk_size_gb = <span style=color:#00f>number</span>
</span></span><span style=display:flex><span>    os_disk_type    = <span style=color:#00f>string</span>
</span></span><span style=display:flex><span>  }))
</span></span><span style=display:flex><span>  default = {
</span></span><span style=display:flex><span>    &#34;mqpool&#34; : { vm_size = &#34;Standard_DS4_v2&#34;, node_count = 6, zones = [&#34;1&#34;, &#34;2&#34;], os_disk_size_gb = 64, os_disk_type = <span style=color:#a31515>&#34;Ephemeral&#34;</span> }
</span></span><span style=display:flex><span>    &#34;tbcorepool&#34; : { vm_size = &#34;Standard_DS3_v2&#34;, node_count = 3, zones = [&#34;1&#34;, &#34;2&#34;], os_disk_size_gb = 64, os_disk_type = <span style=color:#a31515>&#34;Ephemeral&#34;</span> }
</span></span><span style=display:flex><span>    &#34;tbrepool&#34; : { vm_size = &#34;Standard_DS3_v2&#34;, node_count = 25, zones = [&#34;1&#34;, &#34;2&#34;], os_disk_size_gb = 64, os_disk_type = <span style=color:#a31515>&#34;Ephemeral&#34;</span> }
</span></span><span style=display:flex><span>    &#34;tbtranspool&#34; : { vm_size = &#34;Standard_DS3_v2&#34;, node_count = 12, zones = [&#34;1&#34;, &#34;2&#34;], os_disk_size_gb = 64, os_disk_type = <span style=color:#a31515>&#34;Ephemeral&#34;</span> }
</span></span><span style=display:flex><span>    &#34;tbjspool&#34; : { vm_size = &#34;Standard_DS2_v2&#34;, node_count = 6, zones = [&#34;1&#34;, &#34;2&#34;], os_disk_size_gb = 64, os_disk_type = <span style=color:#a31515>&#34;Ephemeral&#34;</span> }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#00f>module</span> <span style=color:#a31515>&#34;aks&#34;</span> {
</span></span><span style=display:flex><span>  source                               = <span style=color:#a31515>&#34;../../modules/azure/kubernetes&#34;</span>
</span></span><span style=display:flex><span>  resource_group                       = <span style=color:#00f>var</span>.<span style=color:#00f>resource_group</span>
</span></span><span style=display:flex><span>  location                             = <span style=color:#00f>var</span>.<span style=color:#00f>location</span>
</span></span><span style=display:flex><span>  vnet_app_name                        = <span style=color:#00f>local</span>.<span style=color:#00f>vnet_app_name</span>
</span></span><span style=display:flex><span>  subnet_aks_name                      = <span style=color:#00f>var</span>.<span style=color:#00f>subnet_aks_name</span>
</span></span><span style=display:flex><span>  aks_name                             = <span style=color:#00f>local</span>.<span style=color:#00f>aks_name</span>
</span></span><span style=display:flex><span>  aks_namespace_admin_group_object_ids = <span style=color:#00f>var</span>.<span style=color:#00f>aks_namespace_admin_group_object_ids</span>
</span></span><span style=display:flex><span>  aks_admin_group_object_ids           = <span style=color:#00f>var</span>.<span style=color:#00f>aks_admin_group_object_ids</span>
</span></span><span style=display:flex><span>  apg_id                               = <span style=color:#00f>module</span>.<span style=color:#00f>apg</span>.<span style=color:#00f>apg_id</span>
</span></span><span style=display:flex><span>  acr_id                               = <span style=color:#00f>module</span>.<span style=color:#00f>acr</span>.<span style=color:#00f>acr_id</span>
</span></span><span style=display:flex><span>  aks_tags                             = <span style=color:#00f>var</span>.<span style=color:#00f>aks_tags</span>
</span></span><span style=display:flex><span>  aks_default_node_pool                = <span style=color:#00f>var</span>.<span style=color:#00f>aks_default_node_pool</span>
</span></span><span style=display:flex><span>  aks_node_pool                        = <span style=color:#00f>var</span>.<span style=color:#00f>aks_node_pool</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  vnet_depends_on = [
</span></span><span style=display:flex><span>    <span style=color:#00f>module</span>.<span style=color:#00f>network</span>.<span style=color:#00f>vnet_app_name</span>,
</span></span><span style=display:flex><span>    <span style=color:#00f>module</span>.<span style=color:#00f>apg</span>.<span style=color:#00f>apg_id</span>,
</span></span><span style=display:flex><span>    <span style=color:#00f>module</span>.<span style=color:#00f>acr</span>.<span style=color:#00f>acr_id</span>
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}</span></span></code></pre></div><ul><li>for more detail, please check: <a href=https://github.com/chienfuchen32/terraform-azure rel=external>https://github.com/chienfuchen32/terraform-azure</a></li></ul><h3 id=further-iac-with-documentation-tool>Further IaC with documentation tool</h3><img src=https://chienfuchen32.github.io/terraform/terraformproviderdevelopment-250116151500-84e30bd1.pdf width=800><ul><li>for more detail, please check: <a href=https://chienfuchen32.github.io/terraform/terraformproviderdevelopment-250116151500-84e30bd1.pdf>Cloud Native Taiwan User Group meetup #65 slide</a></li></ul><h2 id=ref>Ref</h2><ul><li><a href=https://www.redhat.com/en/topics/automation/what-is-infrastructure-as-code-iac rel=external>https://www.redhat.com/en/topics/automation/what-is-infrastructure-as-code-iac</a></li><li><a href=https://about.gitlab.com/topics/gitops/ rel=external>https://about.gitlab.com/topics/gitops/</a></li><li><a href=https://developer.hashicorp.com/terraform/language/modules rel=external>https://developer.hashicorp.com/terraform/language/modules</a></li><li><a href=https://developer.hashicorp.com/terraform/language/tests rel=external>https://developer.hashicorp.com/terraform/language/tests</a></li><li><a href="https://learn.microsoft.com/en-us/azure/devops/service-hooks/services/teams?view=azure-devops" rel=external>https://learn.microsoft.com/en-us/azure/devops/service-hooks/services/teams?view=azure-devops</a></li></ul>]]></description><guid isPermaLink="false">tag:chienfuchen32.github.io,2025-07-26:/posts/infrastructure-as-code/</guid><link>https://chienfuchen32.github.io/posts/infrastructure-as-code/</link><atom:link href="https://chienfuchen32.github.io/posts/infrastructure-as-code/" hreflang="en-us" rel="alternate" type="text/html"/><pubDate>Sat, 26 Jul 2025 22:38:40 +0800</pubDate><title>Terraform, Infrastructure as Code management tool</title></item><item><description><![CDATA[<h3 id=devops-concept--practice>DevOps concept & practice</h3><pre tabindex=0><code>|---------|        |---------|  merge  |-------|          |--------------------------|
|local dev|-------&gt;| version |--------&gt;| build |---------&gt;|* security check          |
|---------| commit | control | trigger | agent | pipeline |* build / push artifact   |
    ^              |---------| webhook |-------| task     |* unit / integration test |
    |                                                     |--------------------------|
    |                                                                          |
|---------------------| analysis |------------| operation |----------------|   |release
| * next release plan |&lt;---------| monitor    |----------&gt;| staging        |&lt;--|
| * issues action     |          | metrics log|           | production env |
|---------------------|          |------------|           |----------------|</code></pre>]]></description><guid isPermaLink="false">tag:chienfuchen32.github.io,2022-09-15:/posts/continuous-integration-continuous-deployment/</guid><link>https://chienfuchen32.github.io/posts/continuous-integration-continuous-deployment/</link><atom:link href="https://chienfuchen32.github.io/posts/continuous-integration-continuous-deployment/" hreflang="en-us" rel="alternate" type="text/html"/><pubDate>Thu, 15 Sep 2022 19:02:56 +0800</pubDate><title>Continuous Integration Continuous Deployment</title></item></channel></rss>