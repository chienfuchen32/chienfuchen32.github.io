<!doctype html><html lang=en-us><head><meta charset=utf-8><meta content="Jeff’s note" name=apple-mobile-web-app-title><meta content="Algorithm,Backtracking,Data Structure" name=keywords><meta content="#0d6efd" name=theme-color><meta content="width=device-width,initial-scale=1" name=viewport><meta property="og:url" content="https://chienfuchen32.github.io/posts/n-queen-problem/"><meta property="og:site_name" content="Jeff's note"><meta property="og:title" content="N Queen Problem"><meta property="og:description" content="Purpose TODO
Example from LeetCode 51. N-Queens problem link Implementation Backtracking all possible placement, check if it is queen attack range.
class Solution: def solveNQueens(self, n: int) -> List[List[str]]: place = [-1 for _ in range(n)] row = 0 place[0] = 0 ans = [] while True: if self.is_valid(place, n) is True: if row == n - 1: ans.append([''.join(b for b in self.board[i]) for i in range(n)]) else: row += 1 for j in range(row, -1, -1): if place[j] == n - 1: place[j] = -1 row -= 1 else: place[j] += 1 break if j == 0 and place[j] == -1: return ans else: place[row] += 1 def is_valid(self, place, n)->bool: self.board = [['.' for _ in range(n)] for _ in range(n)] for i in range(n): if place[i] != -1: self.board[i][place[i]] = 'Q' # row and col for i in range(n): for j in range(i+1, n): if place[j] != -1 and place[i] == place[j]: return False # cross for i in range(n): if place[i] == -1: continue for j in range(n): if j == 0: continue o = i + j p = place[i] + j if o >= 0 and o < n and \ p >= 0 and p < n: if self.board[o][p] == 'Q': return False o = i + j p = place[i] - j if o >= 0 and o < n and \ p >= 0 and p < n: if self.board[o][p] == 'Q': return False o = i - j p = place[i] + j if o >= 0 and o < n and \ p >= 0 and p < n: if self.board[o][p] == 'Q': return False o = i - j p = place[i] - j if o >= 0 and o < n and \ p >= 0 and p < n: if self.board[o][p] == 'Q': return False return True"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-14T20:13:52+08:00"><meta property="article:modified_time" content="2023-06-14T20:13:52+08:00"><meta property="article:tag" content="Algorithm"><meta property="article:tag" content="Data Structure"><meta property="article:tag" content="Backtracking"><meta name=twitter:card content="summary"><meta name=twitter:title content="N Queen Problem"><meta name=twitter:description content="Purpose TODO
Example from LeetCode 51. N-Queens problem link Implementation Backtracking all possible placement, check if it is queen attack range.
class Solution: def solveNQueens(self, n: int) -> List[List[str]]: place = [-1 for _ in range(n)] row = 0 place[0] = 0 ans = [] while True: if self.is_valid(place, n) is True: if row == n - 1: ans.append([''.join(b for b in self.board[i]) for i in range(n)]) else: row += 1 for j in range(row, -1, -1): if place[j] == n - 1: place[j] = -1 row -= 1 else: place[j] += 1 break if j == 0 and place[j] == -1: return ans else: place[row] += 1 def is_valid(self, place, n)->bool: self.board = [['.' for _ in range(n)] for _ in range(n)] for i in range(n): if place[i] != -1: self.board[i][place[i]] = 'Q' # row and col for i in range(n): for j in range(i+1, n): if place[j] != -1 and place[i] == place[j]: return False # cross for i in range(n): if place[i] == -1: continue for j in range(n): if j == 0: continue o = i + j p = place[i] + j if o >= 0 and o < n and \ p >= 0 and p < n: if self.board[o][p] == 'Q': return False o = i + j p = place[i] - j if o >= 0 and o < n and \ p >= 0 and p < n: if self.board[o][p] == 'Q': return False o = i - j p = place[i] + j if o >= 0 and o < n and \ p >= 0 and p < n: if self.board[o][p] == 'Q': return False o = i - j p = place[i] - j if o >= 0 and o < n and \ p >= 0 and p < n: if self.board[o][p] == 'Q': return False return True"><title>N Queen Problem · Posts · Jeff’s note</title><link href=/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/favicon-96x96.png rel=icon sizes=96x96 type=image/png><link href=/favicon.ico rel="shortcut icon"><link href=/favicon.svg rel=icon type=image/svg+xml><link href=/web-app-manifest-192x192.png rel=icon type=image/png><link href=/web-app-manifest-512x512.png rel=icon type=image/png><link href=/site.webmanifest rel=manifest><link crossorigin=anonymous href=/css/paige/paige.d6cb31a35fcbcff3c765013fbf7c4d5e10f2be3e.min.3b5b583ef4a5c7e93743e15582585c9c2a7621b8fef6c9c7ad4bac50e4781f05.css integrity="sha256-O1tYPvSlx+k3Q+FVglhcnCp2Ibj+9snHrUusUOR4HwU=" referrerpolicy=no-referrer rel=stylesheet><link crossorigin=anonymous href=/css/paige/bootstrap/paige.37b3fc66686a7163af8180c5fb0fc6ab835321eb.min.55516fbe90a5aad46d6dbc2441c1c193504ee32cb1eef5070ab589c776231a4c.css integrity="sha256-VVFvvpClqtRtbbwkQcHBk1BO4yyx7vUHCrWJx3YjGkw=" referrerpolicy=no-referrer rel=stylesheet><link crossorigin=anonymous href=/css/paige/bootstrap-icons/bootstrap-icons.min.755bbaf60ab33d8f6213c74d33daea2ef5bf22d15245142a27529f8c1d7e80f1.css integrity="sha256-dVu69gqzPY9iE8dNM9rqLvW/ItFSRRQqJ1KfjB1+gPE=" referrerpolicy=no-referrer rel=stylesheet></head><body><div class=container><div class=row><div class="col mt-3" id=paige-site><header id=paige-site-header><div class="display-1 fw-bold text-center" id=paige-site-title><a class="text-body text-decoration-none" href=/>Jeff&rsquo;s note</a></div><nav aria-label=Menu class=paige-row-tall id=paige-site-menu><ul class="align-items-center justify-content-center nav"><li class=nav-item><a class="nav-link text-decoration-underline" href=/about/>About</a></li><li class=nav-item><a aria-current=page class="active fw-bold text-body nav-link text-decoration-underline" href=/posts/>Posts</a></li><li class=nav-item><a class="nav-link text-decoration-underline" href=/tags/>Tags</a></li></ul></nav><nav aria-label=Breadcrumbs class=paige-row-tall id=paige-site-breadcrumbs><div class="d-flex justify-content-center"><ol class="breadcrumb mb-0"><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/posts/>Posts</a></li></ol></div></nav></header><article class="align-items-center d-flex flex-column paige-kind-page paige-status-draft paige-status-unpublished" id=paige-page><header class="mw-100 text-center" id=paige-page-header><h1 class=fw-bold id=paige-page-title>N Queen Problem</h1><div><p class="paige-row-short text-secondary" id=paige-page-keywords><a class="link-secondary paige-page-keyword-tag" href=/tags/algorithm/>Algorithm</a>
·
<a class="link-secondary paige-page-keyword-tag" href=/tags/backtracking/>Backtracking</a>
·
<a class="link-secondary paige-page-keyword-tag" href=/tags/data-structure/>Data Structure</a></p><p class="paige-row-short text-secondary" id=paige-page-date><time datetime=2023-06-14>June 14, 2023</time></p><p class="paige-row-short text-secondary" id=paige-page-word-count>311 words</p><p class="paige-row-short text-secondary" id=paige-page-reading-time>2 minutes</p></div><div class="align-items-center d-flex flex-column paige-row-tall text-start" id=paige-page-toc><div class="border rounded" style="padding:1rem 2rem 0 1rem"><nav id=TableOfContents><ul><li><a href=#purpose>Purpose</a></li><li><a href=#example-from-leetcode-51-n-queens>Example from LeetCode 51. N-Queens</a><ul><li><a href=#implementation>Implementation</a></li></ul></li></ul></nav></div></div></header><main class=mw-100 id=paige-page-content><h2 class=h5 id=purpose><a href=#purpose style=color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity));text-decoration:none>Purpose</a></h2><p>TODO</p><h2 class=h5 id=example-from-leetcode-51-n-queens><a href=#example-from-leetcode-51-n-queens style=color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity));text-decoration:none>Example from LeetCode 51. N-Queens</a></h2><p><a href=https://leetcode.com/problems/n-queens/description/ rel=external>problem link</a></p><h3 class=h6 id=implementation><a href=#implementation style=color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity));text-decoration:none>Implementation</a></h3><p>Backtracking all possible placement, check if it is queen attack range.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python3 data-lang=python3><span style=display:flex><span><span style=color:#00f>class</span> <span style=color:#2b91af>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#00f>def</span> solveNQueens(self, n: int) -&gt; List[List[str]]:
</span></span><span style=display:flex><span>        place = [-1 <span style=color:#00f>for</span> _ <span style=color:#00f>in</span> range(n)]
</span></span><span style=display:flex><span>        row = 0
</span></span><span style=display:flex><span>        place[0] = 0
</span></span><span style=display:flex><span>        ans = []
</span></span><span style=display:flex><span>        <span style=color:#00f>while</span> <span style=color:#00f>True</span>:
</span></span><span style=display:flex><span>            <span style=color:#00f>if</span> self.is_valid(place, n) <span style=color:#00f>is</span> <span style=color:#00f>True</span>:
</span></span><span style=display:flex><span>                <span style=color:#00f>if</span> row == n - 1:
</span></span><span style=display:flex><span>                    ans.append([<span style=color:#a31515>&#39;&#39;</span>.join(b <span style=color:#00f>for</span> b <span style=color:#00f>in</span> self.board[i])
</span></span><span style=display:flex><span>                            <span style=color:#00f>for</span> i <span style=color:#00f>in</span> range(n)])
</span></span><span style=display:flex><span>                <span style=color:#00f>else</span>:
</span></span><span style=display:flex><span>                    row += 1
</span></span><span style=display:flex><span>            <span style=color:#00f>for</span> j <span style=color:#00f>in</span> range(row, -1, -1):
</span></span><span style=display:flex><span>                <span style=color:#00f>if</span> place[j] == n - 1:
</span></span><span style=display:flex><span>                    place[j] = -1
</span></span><span style=display:flex><span>                    row -= 1
</span></span><span style=display:flex><span>                <span style=color:#00f>else</span>:
</span></span><span style=display:flex><span>                    place[j] += 1
</span></span><span style=display:flex><span>                    <span style=color:#00f>break</span>
</span></span><span style=display:flex><span>                <span style=color:#00f>if</span> j == 0 <span style=color:#00f>and</span> place[j] == -1:
</span></span><span style=display:flex><span>                    <span style=color:#00f>return</span> ans
</span></span><span style=display:flex><span>            <span style=color:#00f>else</span>:
</span></span><span style=display:flex><span>                place[row] += 1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#00f>def</span> is_valid(self, place, n)-&gt;bool:
</span></span><span style=display:flex><span>        self.board = [[<span style=color:#a31515>&#39;.&#39;</span> <span style=color:#00f>for</span> _ <span style=color:#00f>in</span> range(n)] <span style=color:#00f>for</span> _ <span style=color:#00f>in</span> range(n)]
</span></span><span style=display:flex><span>        <span style=color:#00f>for</span> i <span style=color:#00f>in</span> range(n):
</span></span><span style=display:flex><span>            <span style=color:#00f>if</span> place[i] != -1:
</span></span><span style=display:flex><span>                self.board[i][place[i]] = <span style=color:#a31515>&#39;Q&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:green># row and col</span>
</span></span><span style=display:flex><span>        <span style=color:#00f>for</span> i <span style=color:#00f>in</span> range(n):
</span></span><span style=display:flex><span>            <span style=color:#00f>for</span> j <span style=color:#00f>in</span> range(i+1, n):
</span></span><span style=display:flex><span>                <span style=color:#00f>if</span> place[j] != -1 <span style=color:#00f>and</span> place[i] == place[j]:
</span></span><span style=display:flex><span>                    <span style=color:#00f>return</span> <span style=color:#00f>False</span>
</span></span><span style=display:flex><span>        <span style=color:green># cross</span>
</span></span><span style=display:flex><span>        <span style=color:#00f>for</span> i <span style=color:#00f>in</span> range(n):
</span></span><span style=display:flex><span>            <span style=color:#00f>if</span> place[i] == -1:
</span></span><span style=display:flex><span>                <span style=color:#00f>continue</span>
</span></span><span style=display:flex><span>            <span style=color:#00f>for</span> j <span style=color:#00f>in</span> range(n):
</span></span><span style=display:flex><span>                <span style=color:#00f>if</span> j == 0:
</span></span><span style=display:flex><span>                    <span style=color:#00f>continue</span>
</span></span><span style=display:flex><span>                o = i + j
</span></span><span style=display:flex><span>                p = place[i] + j
</span></span><span style=display:flex><span>                <span style=color:#00f>if</span>  o &gt;= 0 <span style=color:#00f>and</span> o &lt; n <span style=color:#00f>and</span> \
</span></span><span style=display:flex><span>                    p &gt;= 0 <span style=color:#00f>and</span> p &lt; n:
</span></span><span style=display:flex><span>                    <span style=color:#00f>if</span> self.board[o][p] == <span style=color:#a31515>&#39;Q&#39;</span>:
</span></span><span style=display:flex><span>                        <span style=color:#00f>return</span> <span style=color:#00f>False</span>
</span></span><span style=display:flex><span>                o = i + j
</span></span><span style=display:flex><span>                p = place[i] - j
</span></span><span style=display:flex><span>                <span style=color:#00f>if</span>  o &gt;= 0 <span style=color:#00f>and</span> o &lt; n <span style=color:#00f>and</span> \
</span></span><span style=display:flex><span>                    p &gt;= 0 <span style=color:#00f>and</span> p &lt; n:
</span></span><span style=display:flex><span>                    <span style=color:#00f>if</span> self.board[o][p] == <span style=color:#a31515>&#39;Q&#39;</span>:
</span></span><span style=display:flex><span>                        <span style=color:#00f>return</span> <span style=color:#00f>False</span>
</span></span><span style=display:flex><span>                o = i - j
</span></span><span style=display:flex><span>                p = place[i] + j
</span></span><span style=display:flex><span>                <span style=color:#00f>if</span>  o &gt;= 0 <span style=color:#00f>and</span> o &lt; n <span style=color:#00f>and</span> \
</span></span><span style=display:flex><span>                    p &gt;= 0 <span style=color:#00f>and</span> p &lt; n:
</span></span><span style=display:flex><span>                    <span style=color:#00f>if</span> self.board[o][p] == <span style=color:#a31515>&#39;Q&#39;</span>:
</span></span><span style=display:flex><span>                        <span style=color:#00f>return</span> <span style=color:#00f>False</span>
</span></span><span style=display:flex><span>                o = i - j
</span></span><span style=display:flex><span>                p = place[i] - j
</span></span><span style=display:flex><span>                <span style=color:#00f>if</span>  o &gt;= 0 <span style=color:#00f>and</span> o &lt; n <span style=color:#00f>and</span> \
</span></span><span style=display:flex><span>                    p &gt;= 0 <span style=color:#00f>and</span> p &lt; n:
</span></span><span style=display:flex><span>                    <span style=color:#00f>if</span> self.board[o][p] == <span style=color:#a31515>&#39;Q&#39;</span>:
</span></span><span style=display:flex><span>                        <span style=color:#00f>return</span> <span style=color:#00f>False</span>
</span></span><span style=display:flex><span>        <span style=color:#00f>return</span> <span style=color:#00f>True</span>
</span></span></code></pre></div></main><footer class=mw-100 id=paige-page-footer><div id=paige-page-siblings><div class="paige-row-short text-center text-secondary" id=paige-page-next><a class=link-secondary href=https://chienfuchen32.github.io/posts/least-recently-used-cache/>Least Recently Used Cache</a> &#8250;</div><div class="paige-row-short text-center text-secondary" id=paige-page-prev>&#8249; <a class=link-secondary href=https://chienfuchen32.github.io/posts/thingsboard-performance-test/>Thingsboard Performance Test</a></div></div></footer></article><footer id=paige-site-footer><p class="paige-row-short text-center text-secondary" id=paige-site-credit><a class="link-secondary text-decoration-none" href=https://github.com/willfaught/paige>Paige Theme</a></p></footer></div></div></div><script crossorigin=anonymous defer integrity="sha256-GdpV5fXTSprZ1he71RUKGZl0E3HtqxFXvbylEdkWmRQ=" referrerpolicy=no-referrer src=/js/paige/bootstrap/bootstrap.bundle.min.19da55e5f5d34a9ad9d617bbd5150a1999741371edab1157bdbca511d9169914.js></script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","abstract":" Purpose TODO\nExample from LeetCode 51. N-Queens problem link Implementation Backtracking all possible placement, check if it is queen attack range.\nclass Solution: def solveNQueens(self, n: int) -\u003e List[List[str]]: place = [-1 for _ in range(n)] row = 0 place[0] = 0 ans = [] while True: if self.is_valid(place, n) is True: if row == n - 1: ans.append([''.join(b for b in self.board[i]) for i in range(n)]) else: row += 1 for j in range(row, -1, -1): if place[j] == n - 1: place[j] = -1 row -= 1 else: place[j] += 1 break if j == 0 and place[j] == -1: return ans else: place[row] += 1 def is_valid(self, place, n)-\u003ebool: self.board = [['.' for _ in range(n)] for _ in range(n)] for i in range(n): if place[i] != -1: self.board[i][place[i]] = 'Q' # row and col for i in range(n): for j in range(i+1, n): if place[j] != -1 and place[i] == place[j]: return False # cross for i in range(n): if place[i] == -1: continue for j in range(n): if j == 0: continue o = i + j p = place[i] + j if o \u003e= 0 and o \u003c n and \\ p \u003e= 0 and p \u003c n: if self.board[o][p] == 'Q': return False o = i + j p = place[i] - j if o \u003e= 0 and o \u003c n and \\ p \u003e= 0 and p \u003c n: if self.board[o][p] == 'Q': return False o = i - j p = place[i] + j if o \u003e= 0 and o \u003c n and \\ p \u003e= 0 and p \u003c n: if self.board[o][p] == 'Q': return False o = i - j p = place[i] - j if o \u003e= 0 and o \u003c n and \\ p \u003e= 0 and p \u003c n: if self.board[o][p] == 'Q': return False return True ","articleSection":"Posts","dateCreated":"2023-06-14T20:13:52+08:00","dateModified":"2023-06-14T20:13:52+08:00","headline":"N Queen Problem","inLanguage":"en-us","keywords":"Algorithm, Backtracking, Data Structure","name":"N Queen Problem","timeRequired":"PT2M","url":"https://chienfuchen32.github.io/posts/n-queen-problem/","wordCount":311}</script><noscript>JavaScript is required</noscript></body></html>