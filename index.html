<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=generator content="Hugo 0.102.3"><meta name=viewport content="width=device-width,initial-scale=1"><title>New Blog</title><meta name=description content="hello there!"><link type=text/css rel=stylesheet href=https://chienfuchen32.github.io/css/print.css media=print><link type=text/css rel=stylesheet href=https://chienfuchen32.github.io/css/poole.css><link type=text/css rel=stylesheet href=https://chienfuchen32.github.io/css/syntax.css><link type=text/css rel=stylesheet href=https://chienfuchen32.github.io/css/hyde.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700"><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png><link href=https://chienfuchen32.github.io/index.xml rel=alternate type=application/rss+xml title="New Blog"></head><body class=theme-base-0d><aside class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://chienfuchen32.github.io/><h1>New Blog</h1></a><p class=lead>hello there!</p></div><nav><ul class=sidebar-nav><li><a href=https://chienfuchen32.github.io/>Home</a></li><li><a href=https://github.com/chienfuchen32/>Github</a></li><li><a href=https://chienfuchen32.github.io/tags/>Tags</a></li></ul></nav><p>&copy; 2022. All rights reserved.</p></div></aside><main class="content container"><div class=posts><article class=post><h1 class=post-title><a href=https://chienfuchen32.github.io/posts/continuous-integration-continuous-deployment/>Continuous Integration Continuous Deployment</a></h1><time datetime=2022-09-15T19:02:56+0800 class=post-date>Thu, Sep 15, 2022</time>
DevOps |---------| |---------| merge |-------| |--------------------------| |local dev|------->| version |-------->| build |--------->|* security check | |---------| commit | control | trigger | agent | pipeline |* build / push artifact | ^ |---------| webhook |-------| task |* unit / integration test | | |--------------------------| | | |----------| analysis |------------| operation |----------------| |release | plan |&lt;---------| monitor |---------->| staging |&lt;-----| | action | | metrics log| | production env | |----------| |------------| |----------------|</article><article class=post><h1 class=post-title><a href=https://chienfuchen32.github.io/posts/nginx-ingress-controller-k8s-guide/>Nginx Ingress Controller K8S Guide</a></h1><time datetime=2022-04-15T15:45:07+0800 class=post-date>Fri, Apr 15, 2022</time>
Nginx 介紹 Nginx是非同步框架的網頁伺服器，也可以用作反向代理、負載平衡器和HTTP快取。 設置範例 server { listen 80; listen [::]:80; server_name localhost; listen 443 ssl default_server; ssl_certificate /tls/server.crt; ssl_certificate_key /tls/server.key; #charset koi8-r; #access_log /var/log/nginx/host.access.log main; location / { #root /usr/share/nginx/html; #index index.html index.htm; proxy_pass http://192.168.24.100:9090/; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection "Upgrade"; proxy_set_header Host $host; proxy_connect_timeout 60s; proxy_read_timeout 300s; proxy_send_timeout 300s; } location /socket.io { proxy_pass http://192.168.24.100:9091/; #Version 1.1 is recommended for use with keepalive connections proxy_http_version 1.1; #WebSocket proxy_set_header Upgrade $http_upgrade; #WebSocket proxy_set_header Connection $connection_upgrade; #WebSocket proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto https; proxy_set_header Cookie $http_cookie; } error_page 500 502 503 504 /50x.<div class=read-more-link><a href=/posts/nginx-ingress-controller-k8s-guide/>Read More…</a></div></article><article class=post><h1 class=post-title><a href=https://chienfuchen32.github.io/posts/k8s-guide-for-developer/>Kubernetes Guide for Developer</a></h1><time datetime=2022-03-18T14:32:45+0800 class=post-date>Fri, Mar 18, 2022</time>
Environment Before you try to use any client tool connect to Kubernetes, please check the endpoint field &ldquo;server&rdquo; of &ldquo;cluster&rdquo; credential config file.
Please make sure you&rsquo;re able connect with the kube-apiserver.
For instance, example below shown here is &ldquo;k8s-cluster&rdquo;
apiVersion: v1 kind: Config clusters: - name: team-a-admin@kubernetes cluster: server: 'https://k8s-cluster:8443' certificate-authority-data: >- xxxxx users: - name: team-a-admin user: token: >- xxxxx contexts: - name: team-a-admin@kubernetes context: user: team-a-admin cluster: team-a-admin@kubernetes namespace: team-a current-context: team-a-admin@kubernetes This example is based on self-host Kubernetes v1.<div class=read-more-link><a href=/posts/k8s-guide-for-developer/>Read More…</a></div></article><article class=post><h1 class=post-title><a href=https://chienfuchen32.github.io/posts/luks-tang/>Disk encryption: LUKS ( Linux Unified Key Setup) with Tang</a></h1><time datetime=2022-03-17T10:16:41+0800 class=post-date>Thu, Mar 17, 2022</time>
Key component tang server is responsible for helping dracut to decrypt the target disk. It won&rsquo;t store any client key. encrypted server is required to use clevis, dracut. It provide a easier way that integrate with tang server to decrypt LUKS disk. Network topology |-------------------------| |------------| |LUKS encrypted server |-- disk decryption -->|tang server | |(clevis, dracut) [env] |&lt;----- response ------|[tang] | |-------------------------| |____________| Tang server software installation via apt on x86x64 Ubuntu 20.<div class=read-more-link><a href=/posts/luks-tang/>Read More…</a></div></article><article class=post><h1 class=post-title><a href=https://chienfuchen32.github.io/posts/on-prem-k8s-installation/>On-Premises K8s Installation</a></h1><time datetime=2020-09-18T10:00:04+0800 class=post-date>Fri, Sep 18, 2020</time>
Load balancer & VIP HAProxy & Keepalived
Init HA control plane & worker node sudo kubeadm init --control-plane-endpoint "LOAD_BALANCER_DNS:LOAD_BALANCER_PORT" --upload-certs ... ... You can now join any number of control-plane node by running the following command on each as a root: kubeadm join 192.168.0.200:6443 --token 9vr73a.a8uxyaju799qwdjv --discovery-token-ca-cert-hash sha256:7c2e69131a36ae2a042a339b33381c6d0d43887e2de83720eff5359e26aec866 --control-plane --certificate-key f8902e114ef118304e561c3ecd4d0b543adc226b7a07f675f56564185ffe0c07 Please note that the certificate-key gives access to cluster sensitive data, keep it secret! As a safeguard, uploaded-certs will be deleted in two hours; If necessary, you can use kubeadm init phase upload-certs to reload certs afterward.<div class=read-more-link><a href=/posts/on-prem-k8s-installation/>Read More…</a></div></article></div></main><script async src="https://www.googletagmanager.com/gtag/js?id=G-3SNCDP141D"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3SNCDP141D",{anonymize_ip:!1})}</script></body></html>